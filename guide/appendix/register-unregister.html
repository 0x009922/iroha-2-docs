<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Registering and Unregistering peers | Hyperledger Iroha 2 Tutorial</title>
    <meta name="description" content="Documented tutorial for Hyperledger Iroha 2 outlining the main differences between Iroha versions along with a walkthrough and additional resources.">
    <link rel="stylesheet" href="/iroha-2-docs/assets/style.177f999f.css">
    <link rel="modulepreload" href="/iroha-2-docs/assets/chunks/AlgoliaSearchBox.1931a2e2.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/app.0f261f37.js">
    <link rel="modulepreload" href="/iroha-2-docs/assets/guide_appendix_register-unregister.md.8caaf836.lean.js">
    
    <meta name="twitter:title" content="Registering and Unregistering peers | Hyperledger Iroha 2 Tutorial">
  <meta property="og:title" content="Registering and Unregistering peers | Hyperledger Iroha 2 Tutorial">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-2170b094><div class="sidebar-button" data-v-2170b094><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/iroha-2-docs/" aria-label="Hyperledger Iroha 2 Tutorial, back to home" data-v-2170b094 data-v-d97bc718><img class="logo" src="/iroha-2-docs/logo.svg" alt="Logo" data-v-d97bc718> Hyperledger Iroha 2 Tutorial</a><div class="flex-grow" data-v-2170b094></div><div class="nav" data-v-2170b094><nav class="nav-links" data-v-2170b094 data-v-2b096b62><!--[--><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item active" href="/iroha-2-docs/" data-v-452f0eb9>Guide <!----></a></div></div><!--]--><!----><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item isExternal" href="https://github.com/hyperledger/iroha-2-docs" target="_blank" rel="noopener noreferrer" data-v-452f0eb9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-452f0eb9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav></div><!--[--><!--[--><div class="algolia-search-box" id="docsearch"></div><!--]--><!--]--></header><aside class="sidebar" data-v-44509ecb><nav class="nav-links nav" data-v-44509ecb data-v-2b096b62><!--[--><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item active" href="/iroha-2-docs/" data-v-452f0eb9>Guide <!----></a></div></div><!--]--><!----><div class="item" data-v-2b096b62><div class="nav-link" data-v-2b096b62 data-v-452f0eb9><a class="item isExternal" href="https://github.com/hyperledger/iroha-2-docs" target="_blank" rel="noopener noreferrer" data-v-452f0eb9>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-452f0eb9><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div></nav><!--[--><!--]--><ul class="sidebar-links" data-v-44509ecb><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Getting started</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/">Introduction</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/build-and-install">Build and Install</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Language-specific guides</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/bash">Bash</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/python">Python 3</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/rust">Rust</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/kotlin-java">Kotlin/Java</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/javascript">JavaScript</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/conclusions">Conclusions</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/advanced/intro">Advanced Guides</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/advanced/wasm">Web Assembly</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/advanced/triggers">Triggers</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/advanced/queries">Queries</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/intro">Appendix</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/peer-configuration">Peer Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/client-configuration">Client Configuration</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/iroha-2-docs/guide/appendix/register-unregister">Peer Management</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#public-blockchain">Public Blockchain</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#private-blockchain">Private Blockchain</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/genesis">Genesis Block</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/keys">Keys</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/iroha-2-docs/guide/appendix/running-iroha-on-bare-metal">Running Iroha On Bare Metal</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><div class="sidebar-mask"></div><main class="page" data-v-5ab2b583><div class="container" data-v-5ab2b583><!--[--><!--]--><div style="position:relative;" class="content" data-v-5ab2b583><div><h1 id="registering-and-unregistering-peers" tabindex="-1">Registering and Unregistering peers <a class="header-anchor" href="#registering-and-unregistering-peers" aria-hidden="true">#</a></h1><h2 id="public-blockchain" tabindex="-1">Public Blockchain <a class="header-anchor" href="#public-blockchain" aria-hidden="true">#</a></h2><p>With any luck, if you followed the guide, you have a well-functioning network that people want to join. Naturally, in a public blockchain, joining is a matter of installing the correct software and waiting until your node gets discovered.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Peer discovery is under construction.</p></div><h2 id="private-blockchain" tabindex="-1">Private Blockchain <a class="header-anchor" href="#private-blockchain" aria-hidden="true">#</a></h2><p>In a bank setting, allowing everyone to join at their leisure is a security nightmare. For safety, automatic discovery of peers is turned off for Iroha 2 in the private blockchain configuration. To add a peer to the network, it must be manually registered. To do that, the user that registers the peer must have the appropriate <code>PermissionToken</code>. This could be granted as part of a <code>role</code>, or as part of a one-time allowance. Granting roles makes sense if a user is to serve as an administrator of sorts, where it&#39;s their responsibility to maintain the peers in the network long-term. A one-time permission grant is useful when the party registering the peer isn&#39;t responsible for registering peers in general, but the network administrator doesn&#39;t need to (or want to) spend time setting up a new peer.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Permissions for registering a peer are under construction.</p></div><p>After permissions, the new peer must be set up. It&#39;s a good idea to request some information about the peers&#39; configuration in the network. Your best friend is the <code>configuration</code> endpoint of the API socket. Thus far querying is done only manually. In the next release we plan to implement a <a href="https://github.com/hyperledger/iroha/issues/1184" title="#1184" target="_blank" rel="noopener noreferrer">bootstrapping procedure</a>, but for now you&#39;ll have to manually check that the timeouts and batch sizes match. To simplify the process, you can ask the network administrator for a redacted version of <code>config.json</code>, which excludes privileged information, such as <code>PRIVATE_KEY</code>s.</p><p><em>After</em> your peer is running. You should submit the <em>register peer</em> instruction. The peer will go through the handshake process and start chatting with the network.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Submitting a <code>Register&lt;Peer&gt;</code> instruction <strong>doesn&#39;t</strong> (and cannot) instantiate a <em>new peer process</em>.</p></div><p>What about unregistering peers? For security reasons this process is one-sided. The network reaches consensus that it wants to remove a peer, but the peer itself doesn&#39;t know much about why nobody&#39;s talking to it. We might add an optional feature that will detect if the <code>Unregister&lt;Peer&gt;</code> instruction contains the public key of the peer itself and remove the connection from all other peers, but this is not suitable for all cases. In most circumstances, if you want to unregister a peer, you want to do so, because it is a Byzantine fault. Just &quot;ghosting&quot; this peer makes the life of the malicious actor on the network harder.</p></div></div><footer class="page-footer" data-v-5ab2b583 data-v-c710f5fe><div class="edit" data-v-c710f5fe><div class="edit-link" data-v-c710f5fe data-v-dc147d58><a class="link" href="https://github.com/hyperledger/iroha-2-docs/edit/master/src/guide/appendix/register-unregister.md" target="_blank" rel="noopener noreferrer" data-v-dc147d58>Edit this page <svg class="icon outbound icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-dc147d58><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="updated" data-v-c710f5fe><p class="last-updated" data-v-c710f5fe data-v-ae38ef34><span class="prefix" data-v-ae38ef34>Last Updated:</span><span class="datetime" data-v-ae38ef34></span></p></div></footer><div class="next-and-prev-link" data-v-5ab2b583 data-v-24e45740><div class="container" data-v-24e45740><div class="prev" data-v-24e45740><a class="link" href="/iroha-2-docs/guide/appendix/client-configuration" data-v-24e45740><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-24e45740><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-24e45740>Client Configuration</span></a></div><div class="next" data-v-24e45740><a class="link" href="/iroha-2-docs/guide/appendix/genesis" data-v-24e45740><span class="text" data-v-24e45740>Genesis Block</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-24e45740><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"api_index.md\":\"a0f90735\",\"guide_advanced_intro.md\":\"558ba168\",\"guide_advanced_queries.md\":\"97fa285d\",\"guide_advanced_triggers.md\":\"2443a101\",\"guide_advanced_wasm.md\":\"57766a45\",\"guide_appendix_client-configuration.md\":\"05e69383\",\"guide_appendix_genesis.md\":\"e9e58712\",\"guide_appendix_intro.md\":\"c8e66616\",\"guide_appendix_keys.md\":\"a9d02229\",\"guide_appendix_peer-configuration.md\":\"0a8f33a8\",\"guide_appendix_register-unregister.md\":\"8caaf836\",\"guide_appendix_running-iroha-on-bare-metal.md\":\"b0e1ccd7\",\"guide_bash.md\":\"4cb135fa\",\"guide_build-and-install.md\":\"5c2068b3\",\"guide_conclusions.md\":\"168c3df7\",\"guide_javascript.md\":\"c360d99f\",\"guide_kotlin-java.md\":\"1c5e8a65\",\"guide_python.md\":\"e63203a0\",\"guide_rust.md\":\"e2a6a02e\",\"index.md\":\"30f7eef4\"}")</script>
    <script type="module" async src="/iroha-2-docs/assets/app.0f261f37.js"></script>
    
  </body>
</html>